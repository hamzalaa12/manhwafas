# ููุฎุต ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

## ๐ง ุงููุดุงูู ุงูุชู ุชู ุญููุง:

### โ 1. ุฅุตูุงุญ ูุธุงู ุงููุดุงูุฏุงุช ูุงููุฑุงุกุฉ
**ุงููุดููุฉ**: ุนุฏุงุฏุงุช ุงููุดุงูุฏุงุช ูุงููุฑุงุกุฉ ูุงูุช ุชุธูุฑ 0 ุฑุบู ูุฑุงุกุฉ ุงููุณุชุฎุฏููู

**ุงูุญููู ุงููุทุจูุฉ**:
- ุฅูุดุงุก ุฏูุงู SQL ูุญุณูุฉ: `track_manga_view()` ู `track_chapter_view()`
- ุฅูุดุงุก hook ุฌุฏูุฏ `useViewTracking` ููุชุนุงูู ูุน ุชุชุจุน ุงููุดุงูุฏุงุช
- ุชุญุฏูุซ `ChapterReader` ูุงุณุชุฎุฏุงู ุงููุธุงู ุงูุฌุฏูุฏ
- ุชุญุฏูุซ `MangaDetails` ูุชุชุจุน ูุดุงูุฏุงุช ุงููุงูุฌุง
- ุฅุถุงูุฉ ูุธุงู fallback ููุชุฃูุฏ ูู ุนูู ุงูุชุชุจุน ุญุชู ูู ูุดูุช RPC functions

**ุงููููุงุช ุงููุนุฏูุฉ**:
- `src/hooks/useViewTracking.tsx` (ุฌุฏูุฏ)
- `src/pages/ChapterReader.tsx`
- `src/pages/MangaDetails.tsx`
- SQL functions ูู Supabase

### โ 2. ุฅุตูุงุญ ุญุฐู ุงููุณุชุฎุฏููู
**ุงููุดููุฉ**: ุญุฐู ุงููุณุชุฎุฏููู ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ ูุง ูุนูู ุจุดูู ุตุญูุญ

**ุงูุญููู ุงููุทุจูุฉ**:
- ุฅูุดุงุก ุฏุงูุฉ SQL ุดุงููุฉ `delete_user_completely()` ูุญุฐู ุงููุณุชุฎุฏู ูุฌููุน ุจูุงูุงุชู
- ุชุญุฏูุซ `useUserManagement` ูุงุณุชุฎุฏุงู ุงููุธุงู ุงูุฌุฏูุฏ
- ุฅุถุงูุฉ ูุธุงู fallback ูุงุณุชุฎุฏุงู auth admin API
- ุชุญุฏูุซ ููุฑู ูููุงุฌูุฉ ูุน ุฅุนุงุฏุฉ ุชุญููู ุงูุจูุงูุงุช

**ุงููููุงุช ุงููุนุฏูุฉ**:
- `src/hooks/useUserManagement.tsx`
- SQL function ูู Supabase

### โ 3. ุฅุถุงูุฉ ูุธุงู ุญุธุฑ ููููุฏ ุดุงูู
**ุงููุดููุฉ**: ุนุฏู ูุฌูุฏ ูุธุงู ูููุน ุงููุณุชุฎุฏููู ูู ุงูุชุนููู ูุงููุฑุงุกุฉ ูุงูุฑูุน

**ุงูุญููู ุงููุทุจูุฉ**:
- ุฅูุดุงุก ุฌุฏูู `user_restrictions` ูุน ุฃููุงุน ูููุฏ ูุฎุชููุฉ:
  - `comment_ban`: ููุน ุงูุชุนููู
  - `read_ban`: ููุน ุงููุฑุงุกุฉ  
  - `upload_ban`: ููุน ุงูุฑูุน
  - `complete_ban`: ุญุธุฑ ูุงูู
- ุฅูุดุงุก ุฏูุงู SQL: `add_user_restriction()`, `remove_user_restriction()`, `has_user_restriction()`
- ๏ฟฝ๏ฟฝูุดุงุก hooks ูุชุฎุตุตุฉ:
  - `useUserRestrictions`: ูุฅุฏุงุฑุฉ ุงููููุฏ
  - `useUserPermissions`: ููุชุญูู ูู ุงูุตูุงุญูุงุช
- ุฅูุดุงุก ูููู `RestrictionsMenu` ููุฅุฏุงุฑุฉ ุงูุณููุฉ
- ุชุทุจูู ูุญุต ุงูุตูุงุญูุงุช ูู:
  - `ChapterReader`: ููุน ุงููุฑุงุกุฉ ูููุญุธูุฑูู
  - `AdvancedComments`: ููุน ุงูุชุนููู ูููุญุธูุฑูู
  - ููุญุฉ ุงูุฅุฏุงุฑุฉ: ุฅุฏุงุฑุฉ ุดุงููุฉ ูููููุฏ

**ุงููููุงุช ุงูุฌุฏูุฏุฉ**:
- `src/hooks/useUserRestrictions.tsx`
- `src/hooks/useUserPermissions.tsx`
- `src/components/RestrictionsMenu.tsx`

**ุงููููุงุช ุงููุนุฏูุฉ**:
- `src/components/AdminDashboard.tsx`
- `src/pages/ChapterReader.tsx`
- `src/components/AdvancedComments.tsx`
- ุฌุฏุงูู ูุฏูุงู SQL ุฌุฏูุฏุฉ ูู Supabase

## ๐ก๏ธ ููุฒุงุช ุงูุฃูุงู ุงูุฌุฏูุฏุฉ:

### ูุธุงู ุงููููุฏ ุงููุชุฏุฑุฌ:
1. **ููุน ุงูุชุนููู**: ุงููุณุชุฎุฏู ููููู ุงููุฑุงุกุฉ ููู ูุง ููููู ุงูุชุนููู
2. **ููุน ุงููุฑุงุกุฉ**: ุงููุณุชุฎุฏู ูุง ููููู ูุฑุงุกุฉ ุงููุตูู
3. **ููุน ุงูุฑูุน**: ุงููุณุชุฎุฏู ูุง ููููู ุฑูุน ูุญุชูู ุฌุฏูุฏ
4. **ุงูุญุธุฑ ุงููุงูู**: ููุน ุฌููุน ุงูุฃูุดุทุฉ

### ูุงุฌูุฉ ุฅุฏุงุฑุฉ ูุญุณูุฉ:
- ูุงุฆูุฉ ููุณุฏูุฉ ููู ูุณุชุฎุฏู ุชุธูุฑ ุงููููุฏ ุงูุญุงููุฉ
- ุฅููุงููุฉ ุฅุถุงูุฉ ูุฅุฒุงูุฉ ุงููููุฏ ุจุณูููุฉ
- ูุธุงู ุงูุชูุงุก ุตูุงุญูุฉ ูููููุฏ ุงููุคูุชุฉ
- ุนุฑุถ ุฃุณุจุงุจ ุงููููุฏ ููุดูุงููุฉ

### ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ:
- ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏููู ุงููุญุธูุฑูู
- ุนุฏู ุฅุธูุงุฑ ุฎูุงุฑุงุช ุบูุฑ ูุชุงุญุฉ ูููุณุชุฎุฏููู ุงููููุฏูู
- ุฅุนุงุฏุฉ ุชูุฌูู ุขููุฉ ูููุณุชุฎุฏููู ุงููุญุธูุฑูู

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

### ุฌุฏุงูู ุฌุฏูุฏุฉ:
- `user_restrictions`: ูุญูุธ ูููุฏ ุงููุณุชุฎุฏููู
- ูุญุณูุฉ: `manga_views` ูุชุชุจุน ุงููุดุงูุฏุงุช

### ุฏูุงู SQL ุฌุฏูุฏุฉ:
- `track_manga_view()`: ุชุชุจุน ูุดุงูุฏุงุช ุงููุงูุฌุง
- `track_chapter_view()`: ุชุชุจุน ูุฑุงุกุฉ ุงููุตูู
- `delete_user_completely()`: ุญุฐู ุดุงูู ูููุณุชุฎุฏู
- `add_user_restriction()`: ุฅุถุงูุฉ ููุฏ ูููุณุชุฎุฏู
- `remove_user_restriction()`: ุฅุฒุงูุฉ ููุฏ ูู ุงููุณุชุฎุฏู
- `has_user_restriction()`: ูุญุต ูุฌูุฏ ููุฏ

### Row Level Security (RLS):
- ุณูุงุณุงุช ุฃูุงู ูุญููุฉ ูุฌุฏูู `user_restrictions`
- ุงูุชุฃูุฏ ูู ุฃู ุงูุฅุฏุงุฑููู ููุท ูููููู ุฅุฏุงุฑุฉ ุงููููุฏ
- ุงููุณุชุฎุฏููู ูููููู ุฑุคูุฉ ูููุฏูู ุงูุดุฎุตูุฉ ููุท

## ๐ฏ ุงููุชุงุฆุฌ:

### ุชุญุณูู ุงูุฃุฏุงุก:
- ูุธุงู ุชุชุจุน ูุดุงูุฏุงุช ููุซูู ูุฏููู
- ุชุญุฏูุซ ููุฑู ููุนุฏุงุฏุงุช ูุงูุฅุญุตุงุฆูุงุช
- ุฃุฏุงุก ุฃูุถู ูุน ุงุณุชุฎุฏุงู RPC functions

### ุฃูุงู ูุญุณู:
- ูุธุงู ุญุธุฑ ูุชุฏุฑุฌ ููุฑู
- ุฅุฏุงุฑุฉ ูุฑูุฒูุฉ ูููููุฏ ูุงูุตูุงุญูุงุช
- ููุน ุงูุชูุงุนุจ ูุงูุณููู ุงููุณูุก

### ุฅุฏุงุฑุฉ ุฃูุถู:
- ูุงุฌูุฉ ุฅุฏุงุฑูุฉ ุดุงููุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
- ุชุชุจุน ูุชุณุฌูู ุฌููุน ุงูุฅุฌุฑุงุกุงุช ุงูุฅุฏุงุฑูุฉ
- ูุฑููุฉ ูู ุชุทุจูู ูุฅุฒุงูุฉ ุงููููุฏ

## ๐ ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ:

ุฌููุน ุงูุฅุตูุงุญุงุช ูุชูุงููุฉ ูุน ุงููุธุงู ุงูุญุงูู ููุง ุชุคุซุฑ ุนูู:
- ุงููุณุชุฎุฏููู ุงูุญุงูููู ุบูุฑ ุงููุญุธูุฑูู
- ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
- ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ ูููููุน

ุชู ุชุทุจูู ุฌููุน ุงูุฅุตูุงุญุงุช ุจุญุฐุฑ ูุน ุงูุญูุงุธ ุนูู ุงูุงุณุชูุฑุงุฑ ูุงูุฃูุงู.
